(()=>{"use strict";new class{constructor(t,e){this.form=document.querySelector(t),this.inputs=this.form.querySelectorAll("input"),this.initialize.call(this),this.validate.bind(this)}initialize(){const{inputs:t}=this;t.forEach((t=>{const e=t.closest(".form-group");t.onfocus=()=>{e.classList.add("typing")},t.onblur=()=>{e.classList.remove("typing"),this.validateInput(`#${t.id}`)},t.oninput=()=>{this.clearError(t)}}))}required(t){return e=>e?.trim?.().length>0?void 0:t||"Required"}min(t,e){return r=>r?.trim?.().length>=t?void 0:e||`Must be at least ${t} characters`}max(t,e){return r=>r?.trim?.().length<=t?void 0:e||`Must be at most ${t} characters`}showError(t,e){const r=t.closest(".form-group"),s=r.querySelector(".form-message");r.classList.add("invalid"),s.textContent=e}clearError(t){const e=t.closest(".form-group"),r=e.querySelector(".form-message");e.classList.remove("invalid"),r.textContent=""}validate(t){const e={};Object.keys(t).forEach((r=>{const s=t[r];Array.isArray(e[r])||(e[r]=[]),s.forEach((t=>{let s,i,o;if("string"==typeof t?s=t:(s=t.rule,i=t.message),s.includes(":")){const[t,e]=s.split(":");o=this[t](e,i)}else o=this[s](i);e[r].push(o)}))})),this.rules=e}validateInput(t){const e=this.form.querySelector(t);let r;return this.rules[t].forEach((t=>{r||(r=t(e.value.trim()))})),r&&this.showError(e,r),!r}}("#login",{}).validate({"#username":[{rule:"required",message:"Tên đăng nhập không được phép để trống"},{rule:"min:6",message:"Tên đăng nhập hoặc Email yêu cầu tối thiểu 6 ký tự"},"max:20"],"#password":["required","min:6","max:20"]})})();